<adh-login></adh-login>

<table border="1">
    <tr>
        <td id="document_workbench_navigate">

            <wdg-listing path="/adhocracy" title="proposals listing (abstract)">
                <wdg-listing-element></wdg-listing-element>
            </wdg-listing>

            <wdg-listing path="/adhocracy" title="proposals listing (by titles)">
                <wdg-listing-element-title></wdg-listing-element-title>
            </wdg-listing>

        </td>
        <td id="document_workbench_list">
            <h3>table of contents</h3>
            <ol>
                <!-- REVIEW:
                from `angular docs <https://docs.angularjs.org/api/ng/directive/ngRepeat>`:

                    `item in items` is equivalent to `item in items track by $id(item)`.

                So I guess we can omit the `track by` here.
                Same applies to templates/Widgets/Listing.html
                -->
                <li ng-repeat="doc in poolEntries track by $id(doc)">
                    <div ng-switch="doc">
                        <div ng-switch-when="undefined">
                            <small><tt>(empty DAG)</tt></small>
                        </div>
                        <div ng-switch-default>
                            <adh-proposal-version-detail content="doc.content" viewmode="doc.viewmode"></adh-proposal-version-detail>
                        </div>
                    </div>
                </li>
            </ol>
        </td>
        <td id="document_workbench_participate">
            <div ng-if="user.can('proposal.create')">
                <p>proposal workbench changes and discussion</p>
                <adh-proposal-version-new on-new-proposal="insertParagraph"></adh-proposal-version-new>
            </div>
        </td>
    </tr>
</table>
