<html>
    <head>
        <meta charset="utf-8">

        <script type="text/javascript" src="submodules/requirejs/require.js"></script>
        <script>
          requirejs.config({
              baseUrl: './js/',
              paths: {
                  chai: './test/chai/chai'
              },
          });
        </script>

        <script type="text/javascript" src="jquery-1.7.2.js"></script>
        <!-- script type="text/javascript" src="submodules/jquery/dist/..."></script -->

        <script type="text/javascript" src="submodules/jquery-datalink/jquery.datalink.js"></script>
        <script type="text/javascript" src="submodules/jquery-bbq/jquery.ba-bbq.js"></script>

        <!-- obviel-template has to be imported before obviel. -->
        <script type="text/javascript" src="submodules/obviel/src/obviel/obviel-template.js"></script>
        <script type="text/javascript" src="submodules/obviel/src/obviel/obviel.js"></script>

        <!-- `cd js; mkdir test; cd test; mocha init` . -->
        <link rel="stylesheet" href="js/test/mocha.css" />
        <script src="js/test/mocha.js"></script>
        <script>mocha.setup('bdd');</script>
        <script src="js/test/tests.js"></script>  <!-- (it has to happen in this order) -->

    </head>
    <body>
        <div id="proposal_workbench_detail">(javascript not running)</div>
        <div id="proposal_workbench_directory">(javascript not running)</div>
        <div id="proposal_workbench_discussion">(javascript not running)</div>
        <script>
          require(['Adhocracy'], function(Adhocracy) {
              // console.log(Adhocracy);
              $(document).ready(function() { Adhocracy.init(); });
          });
        </script>

        <div id="mocha"></div>
        <script>
          $(document).ready(function() { mocha.run(); });
          $(document).load(function() { console.log('page load complete'); });  // not reached!
        </script>

    </body>
</html>
