<html>
    <head>
        <title>Proposal Workbench</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="stylesheets/a3.css" />
        <script type="text/javascript"
                src="submodules/requirejs/require.js"></script>
        <script type="text/javascript"
                src="require-config.js"></script>
    </head>
    <body>
      <!-- app -->
      <div id="adhocracy">[javascript is not running]</div>
      <script>
          var PWB;  // FIXME: this is not a good idea.  bind event listeners from inside the module!  (to css classes?)
          require(['jquery', 'bbq', 'datalink', 'obviel'], function() {
              require(['Adhocracy/Frames/ProposalWorkbench'], function(ProposalWorkbench) {
                  PWB = ProposalWorkbench;
                  $(document).ready(function() { ProposalWorkbench.open_proposals(); });
                  // This isn't executed: (why?)
                  $(document).load(function() { console.log('page load complete'); });
              });
          });
      </script>

      <!-- obviel hackery -->
      <hr>
      <div id="debug_links"></div>
    </body>
</html>
