<div class="comment" data-ng-switch="mode" data-ng-if="data">
    <div class="discussion-header">
        <span class="discussion-header-icon">
            <i class="icon-speachbubble-outline"></i>
        </span>
        <div class="discussion-header-column2">
            <i class="icon-speachbubble-outline"></i>
            {{data.commentCount}}
        </div>
        <div class="discussion-header-column1">
            <div class="discussion-header-creator">
                <adh-user-meta data-path="{{data.creator}}"></adh-user-meta>
            </div>
            <div class="discussion-header-date">
                <adh-time data-datetime="{{data.modificationDate}}"></adh-time>
            </div>
        </div>
    </div>

    <div class="comment-main">
        <div class="comment-title">
            <adh-user-meta data-path="{{data.creator}}"></adh-user-meta>
        </div>
        <div data-ng-switch-when="1">
            <div class="form-error" data-ng-repeat="error in errors">
                <p>{{error}}</p>
            </div>
        </div>
        <div class="comment-content">
            <textarea data-ng-switch-when="1" data-ng-model="data.content"></textarea>
            <div data-ng-switch-default="">{{data.content}}</div>
        </div>
        <div class="comment-meta">
            <adh-time data-datetime="{{data.modificationDate}}"></adh-time>

            <div class="comment-actions">
                <a href="" class="comment-action" data-ng-switch-default="" data-ng-click="edit()">Edit</a>
                <a href="" class="comment-action m-comment-reply" data-ng-switch-default="" data-ng-click="createComment()">Add Comment</a>
                <a href="" class="comment-action" data-ng-switch-when="1" data-ng-click="submit()">Save</a>
                <a href="" class="comment-action" data-ng-switch-when="1" data-ng-click="cancel()">Cancel</a>
                <span class="comment-count">
                    <i class="icon-speachbubble-outline"></i>
                    {{data.commentCount}}
                </span>
            </div>
        </div>
    </div>

    <div class="comment-children-create-form" data-ng-if="show.createForm">
        <adh-comment-create
            data-refers-to="{{path}}"
            data-pool-path="{{data.poolPath}}"
            data-on-cancel="cancelCreateComment"
            data-on-new="afterCreateComment">
        </adh-comment-create>
    </div>

    <div class="comment-children">
        <adh-comment-detail
            data-ng-repeat="comment in data.comments"
            data-path="comment">
        </adh-comment-detail>
    </div>
</div>
