<div class="proposal_detail_ctrl" data-ng-if="content">
    <div data-ng-switch="viewmode">
        <div data-ng-switch-when="list">
            <a href="" data-ng-click="display()" class="document_title">
                {{content.data['adhocracy.sheets.document.IDocument'].title}}
            </a>
        </div>
        <div data-ng-switch-when="display">
            <div class="buttons_box">
                <button type="button" class="edit_button" data-ng-click="edit()">edit</button>
                <button type="button" class="close_button" data-ng-click="list()">close</button>
            </div>
            <adh-document-sheet-show data-sheet="content.data['adhocracy.sheets.document.IDocument']"></adh-document-sheet-show>
            <adh-user-meta data-path="{{content.data['adhocracy.sheets.metadata.IMetadata'].creator[0]}}"</adh-user-meta>
        </div>
        <div data-ng-switch-when="edit">
            <div class="buttons_box">
                <button type="button" class="reset_button" data-ng-click="reset()">reset</button>
                <button type="button" class="save_button" data-ng-click="commit()">save</button>
            </div>
            <adh-proposal-version-edit content="content"></adh-proposal-version-edit>
        </div>
        <div data-ng-switch-default="">
            internal error: unknown view mode: {{ viewmode }}
        </div>
    </div>
    <adh-section-version-detail
        data-ng-repeat="sectionRef in content.data['adhocracy.sheets.document.IDocument'].elements"
        data-ref="sectionRef"
        data-viewmode="viewmode">
    </adh-section-version-detail>
</div>
