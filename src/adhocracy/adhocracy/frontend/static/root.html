<!doctype html>
<html ng-app="ATestMod">
    <head>
        <title>Proposal Workbench</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="/static/stylesheets/a3.css" />
        <script type="text/javascript"
                src="/static/submodules/requirejs/require.js"></script>
        <script type="text/javascript"
                src="/static/require-config.js"></script>
        <script src="/static/jquery-1.7.2.js"></script>
        <script src="/static/angular-1.2.4.js"></script>
        <script src="/static/a-test.js"></script>
    </head>
    <body>



    <div ng-controller="ATest as at">
      <h1>...</h1>

      <div>
        <ol>
          <li ng-repeat="entry in directory track by $index">{{entry | fDirectoryEntry}}</li>
        </ol>
      </div>


      <h1>...</h1>

      <b>Invoice:</b>
      <div>
        Quantity: <input type="number" ng-model="at.qty" required >
      </div>
      <div>
        Costs: <input type="number" ng-model="at.cost" required >
      </div>
      <div>
        <b>Total:</b> {{at.qty * at.cost | currency}}
      </div>
    </div>



      <!-- app --
      <div id="adhocracy">[javascript is not running]</div>
      <script>
          require(['jquery', 'angular'], function() {
              require(['Adhocracy/Frames/ProposalWorkbench'], function(ProposalWorkbench) {
                  var uri = ProposalWorkbench.poolUri('/adhocracy');
                  $(document).ready(function() { ProposalWorkbench.open_proposals(uri); });

                  // FIXME: '.load' isn't executed: why?
                  $(document).load(function() { console.log('page load complete'); });
              });
          });
      </script>
      -->

    </body>
</html>
