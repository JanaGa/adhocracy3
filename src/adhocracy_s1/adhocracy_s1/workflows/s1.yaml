initial_state: propose
states:
  propose:
    title: Participate
    acm:
      principals:               [anonymous, participant, moderator, creator, initiator, admin]
      permissions:
        - [create_proposal,      ~,         A,           ~,         ~,       A,         ~]
        - [edit_proposal,        ~,         ~,           ~,         A,       ~,         ~]
        - [create_comment,       ~,         A,           A,         ~,       A,         ~]
        - [edit_comment,         ~,         ~,           ~,         A,       ~,         ~]
        - [create_rate,          ~,         A,           ~,         ~,       ~,         ~]
        - [edit_rate,            ~,         ~,           ~,         A,       ~,         ~]
  select:
    title: Evaluate
    acm:
      principals:               [anonymous, participant, moderator, creator, initiator, admin]
      permissions:
        - [create_proposal,      ~,         A,           ~,         ~,       A,         ~]
        - [edit_proposal,        ~,         ~,           ~,         A,       ~,         ~]
        - [create_rate,          ~,         A,           ~,         ~,       ~,         ~]
        - [edit_rate,            ~,         ~,           ~,         A,       ~,         ~]
        - [create_comment,       ~,         A,           A,         ~,       A,         ~]
        - [edit_comment,         ~,         ~,           ~,         A,       ~,         ~]
  result:
    title: Result
    acm:
      principals:               [anonymous, participant, moderator, creator, initiator, admin]
      permissions:
        - [create_proposal,      ~,         A,           ~,         ~,       A,         ~]
        - [edit_proposal,        ~,         ~,           ~,         A,       ~,         ~]
        - [create_comment,       ~,         A,           A,         ~,       A,         ~]
        - [edit_comment,         ~,         ~,           ~,         A,       ~,         ~]
        - [create_rate,          ~,         A,           ~,         ~,       ~,         ~]
        - [edit_rate,            ~,         ~,           ~,         A,       ~,         ~]
transitions:
  to_select:
    from_state: propose
    to_state: select
    callback: adhocracy_s1.workflows.s1.do_transition_to_voteable
  to_result:
    from_state: select
    to_state: result
    callback: adhocracy_s1.workflows.s1.do_transition_to_result
  to_propose:
    from_state: result
    to_state: propose
    callback: adhocracy_s1.workflows.s1.do_transition_to_propose
